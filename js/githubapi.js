WidGit={};WidGit.USER_URL="https://api.github.com/search/users?q=";WidGit.User=function(){};WidGit.Repo=function(){this.id=null;this.name=null;this.html_url=null;this.description=null;this.fork=null;this.homepage=null;this.size=null};WidGit.getJSONObject=function(text){var obj=eval("("+text+")");return obj};WidGit.createAjaxObject=function(){var xmlhttp;if(window.XMLHttpRequest){xmlhttp=new XMLHttpRequest()}else{xmlhttp=new ActiveXObject("Microsoft.XMLHTTP")}return xmlhttp};WidGit.makeHttpRequest=function(url,handler,user,callback,dparams){var xmlhttp=WidGit.createAjaxObject();xmlhttp.open("GET",url,true);xmlhttp.send();xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4&&xmlhttp.status==200){var responseObj=WidGit.getJSONObject(xmlhttp.responseText);handler(responseObj,user,callback,dparams)}}};WidGit.checkUserExists=function(response,user,callback,dparams){if(response.total_count==1){user.login=response.items[0].login;user.id=response.items[0].id;user.avatar_url=response.items[0].avatar_url;user.gravatar_id=response.items[0].gravatar_id;user.url=response.items[0].html_url;user.followers_url=response.items[0].followers_url;user.following_url=response.items[0].following_url;user.gists_url=response.items[0].gists_url;user.subscriptions_url=response.items[0].subscriptions_url;user.organizations_url=response.items[0].organizations_url;user.repos_url=response.items[0].repos_url;user.type=response.items[0].type;user.score=response.items[0].score;user.total_repos=0;user.total_forks=0;user.repos=[];user.forks=[];user.followers=0;user.following=0;WidGit.getFollowers(user);WidGit.getFollowing(user);WidGit.getRepoStats(user,callback,dparams)}};WidGit.getFollowers=function(user){var xmlhttp=WidGit.createAjaxObject();xmlhttp.open("GET",user.followers_url,true);xmlhttp.send();xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4&&xmlhttp.status==200){var responseObj=WidGit.getJSONObject(xmlhttp.responseText);user.followers=responseObj.length}}};WidGit.getFollowing=function(user){var url=user.following_url.substring(0,user.following_url.length-13);var xmlhttp=WidGit.createAjaxObject();xmlhttp.open("GET",url,true);xmlhttp.send();xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4&&xmlhttp.status==200){var responseObj=WidGit.getJSONObject(xmlhttp.responseText);user.following=responseObj.length}}};WidGit.getRepoStats=function(user,callback,dparams){var xmlhttp=WidGit.createAjaxObject();xmlhttp.open("GET",user.repos_url,true);xmlhttp.send();xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4&&xmlhttp.status==200){var responseObj=WidGit.getJSONObject(xmlhttp.responseText);WidGit.repoHandler(responseObj,user,callback,dparams)}}};WidGit.repoHandler=function(repoObject,user,callback,dparams){var j;for(j=0;j<repoObject.length;j++){var repo=repoObject[j];var rp=new WidGit.Repo();rp.id=repo.id;rp.name=repo.name;rp.html_url=repo.html_url;rp.description=repo.description;rp.fork=repo.fork;rp.homepage=repo.homepage;rp.size=repo.size;if(rp.fork){user.total_forks+=1;user.forks.push(rp)}else{user.total_repos+=1;user.repos.push(rp)}}callback(user,dparams)};WidGit.show=function(user,dparams){var my_url=WidGit.USER_URL+user;var user=new WidGit.User();WidGit.makeHttpRequest(my_url,WidGit.checkUserExists,user,WidGit.fcallback,dparams)};WidGit.fcallback=function(user,dparams){var i;for(i=0;i<dparams.length;i++){var element=document.getElementById(dparams[i].id);switch(dparams[i].stat){case 0:element.innerHTML=user.login;break;case 1:element.innerHTML=user.id;break;case 2:element.setAttribute('src',user.avatar_url);break;case 3:element.innerHTML=user.gravatar_id;break;case 4:element.setAttribute('href',user.url);break;case 5:element.setAttribute('href',user.followers_url);break;case 6:element.setAttribute('href',user.following_url);break;case 7:element.setAttribute('href',user.gists_url);break;case 8:element.setAttribute('href',user.subscriptions_url);break;case 9:element.setAttribute('href',user.organizations_url);break;case 10:element.setAttribute('href',user.repos_url);break;case 11:element.innerHTML=user.type;break;case 12:element.innerHTML=user.total_repos;break;case 13:element.innerHTML=user.total_forks;break;case 14:element.innerHTML=user.followers;break;case 15:element.innerHTML=user.following;break;default:element.innerHTML="undefined"}}}